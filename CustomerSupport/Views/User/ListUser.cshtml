

@*<p>
        @Html.ActionLink("Create New", "Create")
    </p>*@
@{
    ViewBag.Title = "Listado de Usuario";
}

<div class="ss_box_bg">

            <form>
                <br />
                <div class="card card-primary">
                    <div class="card-header">
                        <h3 class="card-title">Cliente</h3>
                    </div>
                    <div class="card-body">

                        @*<div class="form-group">*@
                        <div class="row text-right">
                            <div class="col-md-12">
                                <p class="text-right">
                                    <button class="btn boton_personalizado" onclick="location.href='@Url.Action("Create", "User")';return false;"><i class="fas fa-plus-square"></i>Agregar</button>
                                </p>
                            </div>
                        </div>
                        <div class="table-responsive">
                            <div class="container">


                                <table id="TUser" class="table table-bordered table-striped">
                                    <thead>
                                        <tr>
                                            <th>Codigo Usuario</th>
                                            <th>Codigo Persona</th>
                                            <th>Codigo Cargo</th>
                                            <th>Login</th>
                                            <th>Estatus</th>
                                            <th>Opciones</th>
                                        </tr>
                                    </thead>
                                </table>

                            </div>
                        </div>
                        @*</div>*@

                    </div>
                    
                </div>
                
            </form>

</div>

    @section Scripts {

        <script src="~/Content/assets/plugins/datatables/jquery.dataTables.min.js"></script>
        <script src="~/Content/assets/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
        <script src="~/Content/assets/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
        <script src="~/Content/assets/plugins/datatables-responsive/js/responsive.bootstrap4.min.js"></script>
        <script src="~/Content/assets/plugins/datatables-buttons/js/dataTables.buttons.min.js"></script>
        <script src="~/Content/assets/plugins/datatables-buttons/js/buttons.bootstrap4.min.js"></script>
        <script src="~/Content/assets/plugins/datatables-buttons/js/buttons.html5.min.js"></script>
        <script src="~/Content/assets/plugins/datatables-buttons/js/buttons.print.min.js"></script>
        <script src="~/Content/assets/plugins/datatables-buttons/js/buttons.colVis.min.js"></script>
        <script src="~/Content/assets/plugins/datatables-buttons/js/buttons.colVis.min.js"></script>

        <script>

        var table = $('#TUser').DataTable({

                'ajax': {
                    'url': '@Url.Action("GetListUser", "User")',
                    'type': 'GET',
                    'dataType': 'json',
                    'dataSrc': ''
                },
                'columns':
                 [
                        { 'data': 'IdUser', 'autowidth': true },
                        { 'data': 'IdPerson', 'autowidth': true },
                        { 'data': 'IdPosition', 'autowidth': true },
                        { 'data': 'Login', 'autowidth': true },
                        { 'data': 'Status', 'autowidth': true },
                        {'data': null, render: function (data, type, row) {
                                //debugger;
                                if (data != null) {
                                    if (row.IdUser == null) {
                                        return '';
                                    } else {
                                        return '<a class="btn"><i class="fas fa-edit"></i></a>|<a class="btn"><i class="fas fa-search"></i></a>|<a class="btn"><i class="far fa-trash-alt"></i></a>';
                                    }
                                }
                            }, 'autowidth': true
                        }
                 ],
                "columnDefs": [{
                    "targets": 0,
                    "orderable": false
                 }],
                "bAutoWidth": false,
                "bInfo": false,
                "language": {
                    "sProcessing": "Procesando...",
                    "sLengthMenu": "Mostrar _MENU_ registros",
                    "sZeroRecords": "No se encontraron resultados",
                    "sEmptyTable": "No existen Registros",
                    "sInfo": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                    "sInfoEmpty": "Mostrando registros del 0 al 0 de un total de 0 registros",
                    "sInfoFiltered": "(filtrado de un total de _MAX_ registros)",
                    "sInfoPostFix": "",
                    "sSearch": "Buscar:",
                    "sUrl": "",
                    "sInfoThousands": ",",
                    "sLoadingRecords": "Cargando...",
                    "oPaginate": {
                        "sFirst": "Primero",
                        "sLast": "Último",
                        "sNext": "Siguiente",
                        "sPrevious": "Anterior"
                    },
                    "oAria": {
                        "sSortAscending": ": Activar para ordenar la columna de manera ascendente",
                        "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                    }
                }

        });

        </script>
    }
