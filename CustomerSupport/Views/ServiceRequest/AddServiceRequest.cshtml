@model CustomerSupport.Models.MServiceRequest

@{
    ViewBag.Title = "Crear Solicitud de Servicio";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="card card-primary">
    <div class="card-header">
        <h3 class="card-title">@ViewBag.Title</h3>
    </div>
    <div class="card-body">

        @using (Html.BeginForm())
        {
            @Html.AntiForgeryToken()

            <div class="m-0 row justify-content-center">
                <div class="col-md-12 form-horizontal">

                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                    <div class="row">

                        <div class="col-md-12">

                            @Html.Partial("_PartialClient")

                        </div>

                    </div>

                    <div class="row">

                        <div class="col-md-12">

                            <div class="accordion border" id="accordionExample">
                                <div class="card">
                                    <div class="card-header" id="headingOne">
                                        <h2 class="mb-0">
                                            <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseCard" aria-expanded="true" aria-controls="collapseOne">
                                                Datos del Servicio
                                            </button>
                                        </h2>
                                    </div>

                                    <div id="collapseCard" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">

                                        <div class="card-body">

                                            <div class="row">
                                                <div class="col-md-5">
                                                    <div class="form-group">
                                                        <div class="control-label">Tipo de Servicio:</div>
                                                        @*@Html.EditorFor(model => model.IdIdentificationType, new { htmlAttributes = new { @class = "form-control" } })*@
                                                        @*@Html.ValidationMessageFor(model => model.IdIdentificationType, "", new { @class = "text-danger" })*@
                                                        <select name="ServiceType" id="ServiceType" class="form-control select2" style="width: 100%;">
                                                            <option value="1">Compras</option>
                                                            <option value="2">Planos</option>
                                                            <option value="3">Construccion</option>
                                                            <option value="4">Refinanciamiento</option>
                                                            <option value="5">Prestamos</option>
                                                            <option value="6">Living Trust</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <div class="control-label">Numero Solicitud:</div>
                                                        @Html.TextBoxFor(model => model.IdServiceRequest, new { @class = "form-control", @disabled = "disabled" })
                                                        @Html.ValidationMessageFor(model => model.IdServiceRequest, "", new { @class = "text-danger" })
                                                    </div>
                                                </div>
                                            </div>

                                            <div id="serviceCompras" class="row">
                                                <h1>serviceCompras</h1>
                                            </div>
                                            <div id="servicePlanos" class="row">
                                                <h1>servicePlanos</h1>
                                            </div>
                                            <div id="serviceConstruccion" class="row">
                                                <h1>serviceConstruccion</h1>
                                            </div>
                                            <div id="serviceRefinanciamiento" class="row">
                                                <h1>serviceRefinanciamiento</h1>
                                            </div>
                                            <div id="servicePrestamos" class="row">
                                                <h1>servicePrestamos</h1>
                                            </div>
                                            <div id="serviceLivingTrust" class="row">
                                                <h1>serviceLivingTrust</h1>
                                            </div>

                                            <div class="row">
                                                <div class="col-md-5">
                                                    <div class="form-group">
                                                        <div class="control-label">Via de Contacto:</div>
                                                        <select name="personType" id="personType" class="form-control select2" style="width: 100%;">
                                                            <option value="1">Instagram</option>
                                                            <option value="2">Facebook</option>
                                                            <option value="3">Videos Publicitarios</option>
                                                            <option value="4">Recomendacion</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="form-group">
                                                        <div class="control-label">Notas:</div>
                                                        @Html.TextAreaFor(model => model.Note, new { @class = "form-control", @rows = 3, @cols = 10 })
                                                        @Html.ValidationMessageFor(model => model.Note, "", new { @class = "text-danger" })
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                @Html.Partial("_PartialDetailTask")
                                            </div>

                                        </div>

                                    </div>
                                </div>
                            </div>

                        </div>

                    </div>

                    <br>
                    <br>
                    <div class="row">
                        <div class="col-md-offset-2 col-md-10">
                            <div class="form-group">
                                <div class="text-center">
                                    <a href="location.href='@Url.Action("Create", "ServiceRequest")';return false;" class="white_btn">Grabar</a>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        }

        <div>
            @Html.ActionLink("Regresar a la Lista", "ListServiceRequest")
        </div>

    </div>
</div>

@section Scripts {

    <script src="~/Content/assets/plugins/datatables/jquery.dataTables.min.js"></script>
    <script src="~/Content/assets/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
    <script src="~/Content/assets/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
    <script src="~/Content/assets/plugins/datatables-responsive/js/responsive.bootstrap4.min.js"></script>
    <script src="~/Content/assets/plugins/datatables-buttons/js/dataTables.buttons.min.js"></script>
    <script src="~/Content/assets/plugins/datatables-buttons/js/buttons.bootstrap4.min.js"></script>
    <script src="~/Content/assets/plugins/datatables-buttons/js/buttons.html5.min.js"></script>
    <script src="~/Content/assets/plugins/datatables-buttons/js/buttons.print.min.js"></script>
    <script src="~/Content/assets/plugins/datatables-buttons/js/buttons.colVis.min.js"></script>
    <script src="~/Content/assets/plugins/datatables-buttons/js/buttons.colVis.min.js"></script>

    <script>

        $(document).ready(function () {

            $("#serviceCompras").show();
            $("#servicePlanos").hide();
            $("#serviceConstruccion").hide();
            $("#serviceRefinanciamiento").hide();
            $("#servicePrestamos").hide();
            $("#serviceLivingTrust").hide();


            $("#ServiceType").on('change', function () {

                var selectValue = $(this).val();
                //var selecDesc = $('select[id="SelpersonType"] option:selected').text()
                //alert(selectValue);
                //debugger;

                switch (selectValue) {
                    case "1":
                        $("#serviceCompras").show();
                        $("#servicePlanos").hide();
                        $("#serviceConstruccion").hide();
                        $("#serviceRefinanciamiento").hide();
                        $("#servicePrestamos").hide();
                        $("#serviceLivingTrust").hide();
                        break;
                    case "2":
                        $("#serviceCompras").hide();
                        $("#servicePlanos").show();
                        $("#serviceConstruccion").hide();
                        $("#serviceRefinanciamiento").hide();
                        $("#servicePrestamos").hide();
                        $("#serviceLivingTrust").hide();
                        break;
                    case "3":
                        $("#serviceCompras").hide();
                        $("#servicePlanos").hide();
                        $("#serviceConstruccion").show();
                        $("#serviceRefinanciamiento").hide();
                        $("#servicePrestamos").hide();
                        $("#serviceLivingTrust").hide();
                        break;
                    case "4":
                        $("#serviceCompras").hide();
                        $("#servicePlanos").hide();
                        $("#serviceConstruccion").hide();
                        $("#serviceRefinanciamiento").show();
                        $("#servicePrestamos").hide();
                        $("#serviceLivingTrust").hide();
                        break;
                    case "5":
                        $("#serviceCompras").hide();
                        $("#servicePlanos").hide();
                        $("#serviceConstruccion").hide();
                        $("#serviceRefinanciamiento").hide();
                        $("#servicePrestamos").show();
                        $("#serviceLivingTrust").hide();
                        break;
                    case "6":
                        $("#serviceCompras").hide();
                        $("#servicePlanos").hide();
                        $("#serviceConstruccion").hide();
                        $("#serviceRefinanciamiento").hide();
                        $("#servicePrestamos").hide();
                        $("#serviceLivingTrust").show();
                        break;
                    default:
                        $("#serviceCompras").hide();
                        $("#servicePlanos").hide();
                        $("#serviceConstruccion").hide();
                        $("#serviceRefinanciamiento").hide();
                        $("#servicePrestamos").hide();
                        $("#serviceLivingTrust").hide();
                        break;

                }

            });


        });

    </script>
}
